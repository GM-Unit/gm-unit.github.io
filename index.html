<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GM-UNIT TERMINAL</title>

<style>
html, body {
  margin: 0;
  background: black;
  color: #00ff99;
  font-family: monospace;
  overflow-x: hidden;
}

body::after {
  content:"";
  position:fixed;
  inset:0;
  background:rgba(255,255,255,0.03);
  animation:flicker 3s infinite;
  pointer-events:none;
}

@keyframes flicker {
  0%,97%{opacity:0}
  98%{opacity:.15}
  100%{opacity:0}
}

.container {
  max-width: 65%;
  padding: 28px;
  height: 100vh;
  overflow-y: auto;
}

.section { margin-top: 26px; }

.section-title {
  white-space: pre;
  min-height: 1.3em;
}

.block {
  white-space: pre-wrap;
  line-height: 1.4;
  min-height: 4.5em;
}

#boot { min-height: 9em; }

.cursor::after {
  content:"█";
  animation:blink 1s infinite;
}

@keyframes blink {50%{opacity:0}}

.flicker {
  animation: numFlicker .08s linear;
}

@keyframes numFlicker {
  50%{opacity:.4}
}

/* DOCTRINE */
#doctrine {
  position: fixed;
  left: 68%;
  top: 80px;
  font-size: 46px;
  white-space: pre;
  opacity: 0;
  transition: opacity 1s;
}

.red { color: #ff0000; }

/* EVA */
#eva-panel {
  position: fixed;
  right: 30px;
  top: 120px;
  width: 220px;
  font-size: 12px;
  opacity: 0;
  transition: opacity 1s;
}

.bar { height:6px; background:rgba(0,255,150,.15); }
.fill { height:100%; background:rgba(0,255,150,.8); }

#eva-status {
  margin-top: 18px;
  text-align: right;
  letter-spacing: 1px;
  animation: evaBlink 2.5s infinite;
}

@keyframes evaBlink {
  0%,90%{opacity:.9}
  92%{opacity:.3}
  100%{opacity:.9}
}

.danger { color:#ff4444; }
.caution { color:#ffaa00; }

@media(max-width:900px){
  .container{max-width:90%}
  #doctrine{left:60%;font-size:36px}
}
</style>
</head>
<body>

<div id="doctrine"></div>

<div class="container">

<div class="section">
<div id="boot" class="block cursor"></div>
</div>

<div class="section">
<div id="tSystems" class="section-title"></div>
<div id="bSystems" class="block"></div>
</div>

<div class="section">
<div id="tTC" class="section-title"></div>
<div id="bTC" class="block"></div>
</div>

<div class="section">
<div id="tFrame" class="section-title"></div>
<div id="bFrame" class="block"></div>
</div>

<div class="section">
<div id="tChess" class="section-title"></div>
<div id="bChess" class="block"></div>
</div>

<div class="section">
<div id="tLore" class="section-title"></div>
<div id="bLore" class="block"></div>
</div>

</div>

<div id="eva-panel">
  <div>SYNC RATIO</div>
  <div class="bar"><div class="fill" id="sync"></div></div><br>
  <div>MENTAL STABILITY</div>
  <div class="bar"><div class="fill" id="mental"></div></div><br>
  <div>CORE PRESSURE</div>
  <div class="bar"><div class="fill" id="coreBar"></div></div>

  <div id="eva-status">STATUS: NOMINAL</div>
</div>

<script>
/* ========= utilities ========= */
function typeText(el, text, speed=28, cb){
  let i=0;
  (function tick(){
    if(i<text.length){
      el.textContent+=text[i++];
      setTimeout(tick,speed);
    } else cb && cb();
  })();
}

function vertical(a,b){
  const m=Math.max(a.length,b.length);
  let o=[];
  for(let i=0;i<m;i++) o.push((a[i]||" ")+" "+(b[i]||" "));
  return o.join("\n");
}

/* ========= boot ========= */
const bootLines=[
"≻ SYSTEM BOOT˸ GM-UNIT ⁄⁄",
"GRANDMASTER CALCULATION-UNIT",
"",
"Initializing cores...",
"Loading strategic matrices...",
"Synchronizing endgame tables...",
"Warnings detected",
"",
"≻ SYSTEM ONLINE"
];

const boot=document.getElementById("boot");
let bi=0;

(function bootType(){
  if(bi<bootLines.length){
    boot.textContent+=bootLines[bi++]+"\n";
    setTimeout(bootType,550);
  } else {
    boot.classList.remove("cursor");
    const h=boot.offsetHeight+"px";
    boot.style.height=h;
    boot.style.opacity=0;
    setTimeout(()=>{
      boot.style.display="none";
      showDoctrine();
    },700);
  }
})();

/* ========= doctrine ========= */
const doctrine=document.getElementById("doctrine");

function showDoctrine(){
  doctrine.textContent=vertical("IRON","FORTRESS");
  doctrine.style.opacity=1;

  setTimeout(()=>{
    document.getElementById("eva-panel").style.opacity=1;
    startTyping();
    startTelemetry();
    startDoctrineGlitch();
  },1500);
}

function startDoctrineGlitch(){
  setInterval(()=>{
    doctrine.classList.add("red");
    doctrine.textContent=vertical("NO","SURVIVORS");
    setTimeout(()=>{
      doctrine.classList.remove("red");
      doctrine.textContent=vertical("IRON","FORTRESS");
    },650);
  },12000);
}

/* ========= typing ========= */
function insert(parent,id,val){
  const s=document.createElement("span");
  s.id=id;
  s.textContent=val;
  parent.appendChild(s);
}

function startTyping(){
  typeText(tSystems,"［CYBERNETIC SYSTEMS］",30,()=>{
    bSystems.textContent+="Core_001˸ "; insert(bSystems,"core1","89"); bSystems.textContent+="％\n";
    bSystems.textContent+="Core_002˸ "; insert(bSystems,"core2","92"); bSystems.textContent+="％\n";
    bSystems.textContent+="Status˸ Suboptimal\nRuntime˸ 19 years\nFirmware˸ 2006\n";
  });

  typeText(tTC,"［TC UNIT］",30,()=>{
    typeText(bTC,"Piloting organic matter˸ 621\nPrediction_Subroutine_086˸ deviation detected\nStrategic_Recognition˸ degraded\n");
  });

  typeText(tFrame,"［FRAME ＆ SENSORS］",30,()=>{
    bFrame.textContent+="Optic_001˸ "; insert(bFrame,"optic1","52"); bFrame.textContent+="％\n";
    bFrame.textContent+="Optic_002˸ "; insert(bFrame,"optic2","78"); bFrame.textContent+="％\n";
    bFrame.textContent+="Hydraulics˸ failing\nMobility_Delay˸ +0.41s\n";
  });

  typeText(tChess,"［CHESS OPERATIONS］",30,()=>{
    bChess.textContent+="Targeting_Accuracy˸ "; insert(bChess,"accuracy","94"); bChess.textContent+="％\n";
    bChess.textContent+="Opening_Files˸ partial corruption\nEndgame_Protocol˸ INTACT\n";
  });

  typeText(tLore,"≻ ARCHIVED DEPLOYMENT LOG",30,()=>{
    typeText(bLore,"Confirmed_Eliminations˸ 43 357 892 souls\nPost-War Repurposing˸ Chess Domain\nLegacy_Status˸ Hallowed Artifact\n");
  });
}

/* ========= telemetry ========= */
const evaStatus=document.getElementById("eva-status");

function fluctuate(id,min,max){
  const el=document.getElementById(id);
  if(!el) return;
  el.textContent=Math.floor(Math.random()*(max-min+1))+min;
  el.classList.add("flicker");
  setTimeout(()=>el.classList.remove("flicker"),80);
}

function startTelemetry(){
  setInterval(()=>{
    const s=60+Math.random()*30;
    const m=45+Math.random()*45;
    const c=55+Math.random()*40;

    sync.style.width=s+"%";
    mental.style.width=m+"%";
    coreBar.style.width=c+"%";

    fluctuate("core1",87,91);
    fluctuate("core2",90,94);
    fluctuate("optic1",50,54);
    fluctuate("optic2",76,80);
    fluctuate("accuracy",93,95);

    evaStatus.className="";
    if(m<45||c>85){
      evaStatus.textContent="STATUS: DANGER";
      evaStatus.classList.add("danger");
    } else if(m<60||c>75){
      evaStatus.textContent="STATUS: CAUTION";
      evaStatus.classList.add("caution");
    } else {
      evaStatus.textContent="STATUS: NOMINAL";
    }
  },1800);
}
</script>

</body>
</html>
