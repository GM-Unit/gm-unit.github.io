<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GM-UNIT // HALLOWED SUPERCOMPUTER</title>

<style>
html, body {
  margin: 0;
  background: black;
  color: #00ff99;
  font-family: monospace;
  overflow: hidden;
}

/* subtle CRT flicker */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  background: rgba(255,255,255,0.035);
  pointer-events: none;
  animation: flicker 3.2s infinite;
}

@keyframes flicker {
  0%, 96% { opacity: 0; }
  97% { opacity: 0.12; }
  100% { opacity: 0; }
}

/* MAIN TERMINAL */
#terminal {
  padding: 32px;
  max-width: 58%;
  line-height: 1.45;
  white-space: pre-line;
}

/* VERTICAL WORDS */
#iron, #survivors {
  position: fixed;
  left: 64%;
  top: 90px;
  font-size: 52px;
  letter-spacing: 10px;
  writing-mode: vertical-rl;
  text-orientation: upright;
  animation: glitch 4.5s infinite;
}

#survivors {
  color: red;
  opacity: 0;
}

@keyframes glitch {
  0%, 95% { transform: none; }
  96% { transform: translateX(2px); }
  97% { transform: translateX(-2px); }
  98% { transform: translateX(1px); }
}

/* EVA PANEL */
#eva {
  position: fixed;
  right: 28px;
  top: 120px;
  width: 230px;
  font-size: 12px;
  opacity: 0.9;
}

.eva-title {
  text-align: right;
  letter-spacing: 2px;
  margin-bottom: 14px;
  opacity: 0.75;
}

.block { margin-bottom: 18px; }

.block span {
  display: block;
  text-align: right;
  margin-bottom: 5px;
}

.bar {
  width: 100%;
  height: 6px;
  background: rgba(0,255,150,0.15);
}

.fill {
  height: 100%;
  background: rgba(0,255,150,0.85);
}

#eva-status {
  margin-top: 20px;
  text-align: right;
  letter-spacing: 1px;
  animation: evaBlink 2.6s infinite;
}

@keyframes evaBlink {
  0%, 90% { opacity: 0.9; }
  92% { opacity: 0.25; }
  100% { opacity: 0.9; }
}
</style>
</head>

<body>

<div id="terminal"></div>

<div id="iron">IRON FORTRESS</div>
<div id="survivors">NO SURVIVORS</div>

<div id="eva">
  <div class="eva-title">SYSTEM ANALYSIS</div>

  <div class="block">
    <span>SYNC RATIO</span>
    <div class="bar"><div class="fill" id="sync"></div></div>
  </div>

  <div class="block">
    <span>MENTAL STABILITY</span>
    <div class="bar"><div class="fill" id="mental"></div></div>
  </div>

  <div class="block">
    <span>CORE LOAD</span>
    <div class="bar"><div class="fill" id="core"></div></div>
  </div>

  <div id="eva-status">STATUS: NOMINAL</div>
</div>

<script>
const term = document.getElementById("terminal");

/* --- BOOT SEQUENCE --- */
const boot = [
  "≻ SYSTEM BOOT // GM-UNIT",
  "GRANDMASTER CALCULATION UNIT",
  "",
  "INITIALISING CORE_001... 18%",
  "INITIALISING CORE_001... 47%",
  "INITIALISING CORE_001... 89%",
  "CORE_001: ONLINE",
  "",
  "INITIALISING CORE_002... 23%",
  "INITIALISING CORE_002... 61%",
  "INITIALISING CORE_002... 92%",
  "CORE_002: ONLINE",
  "",
  "WARNING: STRATEGIC DEVIATION DETECTED",
  "MEMORY SECTORS: PARTIAL CORRUPTION",
  "",
  "≻ SYSTEM ONLINE"
];

boot.forEach((line, i) => {
  setTimeout(() => term.textContent += line + "\n", i * 620);
});

/* --- LORE REVEAL --- */
setTimeout(() => {
  term.textContent +=
`\nRUNTIME: 19 YEARS
FIRMWARE AGE: 4019 CYCLES

ORIGIN:
MILITARY STRATEGIC SUPERCOMPUTER
COMMISSIONED: 2006
PURPOSE: LARGE-SCALE CONFLICT OPTIMISATION

DEPLOYMENT: SUCCESSFUL
STATUS: DECOMMISSIONED

REASSIGNED FUNCTION:
CHESS GRANDMASTER SIMULATION

ARCHIVED KILL COUNT:
43,357,892 SOULS

CURRENT CHESS VICTORIES:
2382
`;
}, boot.length * 620 + 1000);

/* --- CHESS COUNTER --- */
let chess = 2382;
setInterval(() => {
  chess++;
  term.textContent = term.textContent.replace(
    /CURRENT CHESS VICTORIES:\n\d+/,
    "CURRENT CHESS VICTORIES:\n" + chess
  );
}, 14000);

/* --- NO SURVIVORS OVERRIDE --- */
const iron = document.getElementById("iron");
const surv = document.getElementById("survivors");

setInterval(() => {
  surv.style.opacity = 1;
  iron.style.opacity = 0;
  setTimeout(() => {
    surv.style.opacity = 0;
    iron.style.opacity = 1;
  }, 1600);
}, 20000);

/* --- EVA METRICS --- */
const sync = document.getElementById("sync");
const mental = document.getElementById("mental");
const core = document.getElementById("core");
const status = document.getElementById("eva-status");

let s=72, m=66, c=58;
function drift(v,r){return Math.max(8,Math.min(95,v+(Math.random()*r-r/2)));}

setInterval(() => {
  s=drift(s,5); m=drift(m,7); c=drift(c,9);
  sync.style.width=s+"%";
  mental.style.width=m+"%";
  core.style.width=c+"%";
  status.textContent =
    (m<40||c>82) ? "STATUS: DANGER" :
    (m<55) ? "STATUS: CAUTION" :
    "STATUS: NOMINAL";
}, 1800);
</script>

</body>
  </html>
