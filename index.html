<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GM-Unit</title>

<style>
body {
  background-color: #0a0a0a;
  color: #b5b5b5;
  font-family: "Courier New", monospace;
  font-size: 14px;
  padding: 20px;
  overflow-x: hidden;
}

.container {
  max-width: 900px;
  margin: auto;
  position: relative;
  z-index: 1;
}

.section {
  margin-top: 28px;
}

.section-title {
  color: #d0d00;
  margin-bottom: 6px;
}

.block {
  white-space: pre;
  line-height: 1.5;
}

.cursor::after {
  content: "█";
  animation: blink 1s infinite;
}

@keyframes blink {
  50% { opacity: 0; }
}

/* ---------- FLICKER ---------- */
.flicker {
  animation: flicker 0.06s linear;
}

@keyframes flicker {
  0% { opacity: 1; }
  50% { opacity: 0.55; }
  100% { opacity: 1; }
}

/* ---------- DOCTRINE BANNER ---------- */
#doctrine {
  position: fixed;
  right: 48px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 38px;
  line-height: 1.05;
  color: rgba(200,200,200,0.14);
  text-align: center;
  white-space: pre;
  pointer-events: none;
  opacity: 0;
  transition: opacity 1.4s ease;
  z-index: 0;
}

.doctrine-flicker {
  animation: doctrineFlicker 0.12s linear;
}

@keyframes doctrineFlicker {
  0% { opacity: 0.12; }
  50% { opacity: 0.35; }
  100% { opacity: 0.12; }
}
</style>
</head>

<body>

<div id="doctrine"></div>

<div class="container">

<div class="section">
<div class="block cursor" id="boot"></div>
</div>

<div class="section" id="systems" style="display:none;">
<div class="section-title">［CYBERNETIC SYSTEMS］</div>
<div class="block">
Core_001˸ <span id="core1">89</span>％
Core_002˸ <span id="core2">92</span>％
Status˸ Suboptimal
Runtime_Duration˸ 19 years
Firmware_Epoch˸ 2006
</div>
</div>

<div class="section" id="tunit" style="display:none;">
<div class="section-title">［TC UNIT］</div>
<div class="block">
Piloting organic matter˸ 621
Prediction_Subroutine_086˸ deviation detected
Strategic_Recognition˸ degraded
</div>
</div>

<div class="section" id="frame" style="display:none;">
<div class="section-title">［FRAME ＆ SENSORS］</div>
<div class="block">
Optic_001˸ <span id="optic1">52</span>％
Optic_002˸ <span id="optic2">78</span>％
Hydraulics˸ failing
Mobility_Delay˸ ＋0․41s
</div>
</div>

<div class="section" id="chess" style="display:none;">
<div class="section-title">［CHESS OPERATIONS］</div>
<div class="block">
Targeting_Accuracy˸ <span id="accuracy">94</span>％
Opening_Files˸ partial corruption
Endgame_Protocol˸ INTACT
</div>
</div>

<div class="section" id="lore" style="display:none;">
<div class="section-title">≻ ARCHIVED DEPLOYMENT LOG</div>
<div class="block" id="loreText"></div>
</div>

</div>

<script>
/* ================= BOOT ================= */
const bootLines = [
"≻ SYSTEM BOOT˸ GM-UNIT ⁄⁄",
"GRANDMASTER CALCULATION-UNIT",
"",
"Initializing cores...",
"Loading strategic matrices...",
"Synchronizing endgame tables...",
"System integrity check...",
"Warnings detected",
"",
"≻ SYSTEM ONLINE"
];

let bootIndex = 0;
let chessWins = 2382;
const boot = document.getElementById("boot");

function typeBoot() {
  if (bootIndex < bootLines.length) {
    boot.textContent += bootLines[bootIndex] + "\n";
    bootIndex++;
    setTimeout(typeBoot, 550);
  } else {
    boot.classList.remove("cursor");
    setTimeout(replaceBoot, 1200);
  }
}

function replaceBoot() {
  boot.textContent =
"≻ ARCHIVED WAR RECORD ⁄⁄\n\n" +
"Confirmed_Eliminations˸ 43 357 892 souls\n" +
"Conflict_Status˸ Resolved\n\n" +
"Post-War Repurposing˸ Chess Domain\n" +
"Recorded_Victories˸ " + chessWins + "\n";

  revealSystems();
  startChessCounter();
  startDoctrine();
}

/* ================= SYSTEMS ================= */
function revealSystems() {
  ["systems","tunit","frame","chess"].forEach(id =>
    document.getElementById(id).style.display = "block"
  );
  startTelemetry();
  startFlicker();
  setTimeout(startLore, 1400);
}

/* ================= TELEMETRY ================= */
function fluctuate(id, min, max, speed) {
  setInterval(() => {
    document.getElementById(id).textContent =
      Math.floor(Math.random() * (max - min + 1)) + min;
  }, speed);
}

function startTelemetry() {
  fluctuate("core1", 87, 91, 2400);
  fluctuate("core2", 90, 94, 2600);
  fluctuate("optic1", 50, 54, 3000);
  fluctuate("optic2", 76, 80, 3200);
  fluctuate("accuracy", 93, 95, 2800);
}

/* ================= FLICKER ================= */
const flickerTargets = ["core1","core2","optic1","optic2","accuracy"];
function startFlicker() {
  setInterval(() => {
    if (Math.random() < 0.4) {
      const el = document.getElementById(
        flickerTargets[Math.floor(Math.random()*flickerTargets.length)]
      );
      el.classList.add("flicker");
      setTimeout(() => el.classList.remove("flicker"), 80);
    }
  }, 1800);
}

/* ================= CHESS COUNTER ================= */
function startChessCounter() {
  setInterval(() => {
    if (Math.random() < 0.35) {
      chessWins++;
      boot.textContent = boot.textContent.replace(
        /Recorded_Victories˸ \d+/,
        "Recorded_Victories˸ " + chessWins
      );
    }
  }, 12000);
}

/* ================= LORE ================= */
const loreLines = [
"Designation˸ GM-UNIT",
"Origin˸ Military tactical computation platform",
"Firmware_Epoch˸ 2006",
"Deployment_Status˸ Successful",
"",
"Behavioral Drift Detected",
"Strategic cognition repurposed",
"",
"Primary Domain˸ Competitive Chess",
"Runtime_Duration˸ 19 years",
"Endgame Specialization˸ Absolute",
"",
"Legacy_Status˸ Hallowed Computational Artifact"
];

let loreIndex = 0;
function startLore() {
  const lore = document.getElementById("lore");
  const loreText = document.getElementById("loreText");
  lore.style.display = "block";
  const interval = setInterval(() => {
    if (loreIndex < loreLines.length) {
      loreText.textContent += "› " + loreLines[loreIndex] + "\n";
      loreIndex++;
    } else clearInterval(interval);
  }, 650);
}

/* ================= DOCTRINE ================= */
const doctrine = document.getElementById("doctrine");

function vertical(text, glitch=false) {
  return text.split("").map(c => {
    if (glitch && c !== " " && Math.random() < 0.15)
      return Math.random() < 0.5 ? "#" : "-";
    return c;
  }).join("\n");
}

function showDoctrine() {
  const isSurvivors = Math.random() < 0.22;
  doctrine.textContent = vertical(
    isSurvivors ? "NO SURVIVORS" : "IRON FORTRESS",
    isSurvivors && Math.random() < 0.6
  );

  doctrine.style.opacity = "1";

  if (Math.random() < 0.35) {
    doctrine.classList.add("doctrine-flicker");
    setTimeout(() => doctrine.classList.remove("doctrine-flicker"), 140);
  }

  setTimeout(() => doctrine.style.opacity = "0",
    isSurvivors ? 1600 : 4200);
}

function startDoctrine() {
  setInterval(() => {
    if (Math.random() < 0.35) showDoctrine();
  }, 8000);
}

/* ================= INIT ================= */
typeBoot();
</script>

</body>
</html>
